# ADR-0010: Локализация и мультивалютность: i18n + денежные суммы в minor units

- Статус: Accepted
- Дата: 2025-12-25
- Контекст проекта: Платформа для краудфандинга (авторы проектов, бэкеры/спонсоры, администраторы, потенциальные инвесторы)


## Контекст
Требования включают многоязычность и поддержку разных валют/платежных систем.

## Решение
- **i18n**:
  - все пользовательские тексты — через словари/ключи,
  - хранение предпочтительного языка в профиле,
  - SEO-страницы с локалями (если SSR/SSG).
- **Валюты**:
  - суммы храним в **minor units** (например, копейки/центы) целым числом + `currency` (ISO 4217),
  - расчеты комиссий — тоже в minor units, округления фиксируем правилами.
- Проект привязан к «основной валюте», взнос допускается в той же валюте (или через конвертацию провайдера — решение на уровне продукта).

## Обоснование
- **Финансовая корректность**: хранение в minor units исключает ошибки float и соответствует лучшим практикам финтеха.
- **Масштабирование по рынкам**: i18n и ISO‑валюты упрощают выход на разные регионы и локальные платежные системы.
- **Единые правила округления**: фиксированные правила минимизируют споры по комиссиям и суммам.

## Альтернативы
1) Хранить деньги в float  
   − ошибки округления, финансовые баги.

2) Переводить всё в одну валюту на лету  
   + проще аналитика  
   − непонятно пользователям, юридические нюансы.

## Последствия
+ Корректные расчеты и расширяемость на новые рынки.  
− Усложнение UI (форматы чисел/дат/валют) и тестирование локалей.
