# ADR-0002: Выбор технологического стека: Backend API + Web SPA + RDBMS

- Статус: Accepted
- Дата: 2025-12-25
- Контекст проекта: Платформа для краудфандинга (авторы проектов, бэкеры/спонсоры, администраторы, потенциальные инвесторы)


## Контекст
Нужны: публичный веб-интерфейс, личные кабинеты, админка, интеграция платежей, поиск, уведомления.
Требования по безопасности и транзакциям тянут к надежной СУБД и зрелым фреймворкам.

## Решение
- **Backend**: REST API (при необходимости — GraphQL для витрин/поиска), язык/фреймворк выбирается командой, но архитектурно:
  - слой контроллеров/API
  - слой приложений (use-cases)
  - слой домена (модели/инварианты)
  - слой инфраструктуры (БД, платежи, сообщения)
- **Frontend**: Web SPA (React/Vue/Angular) + SSR/SSG для публичных страниц (SEO).
- **DB**: PostgreSQL как основная транзакционная БД.
- **Кэш/сессии/лимиты**: Redis.
- **Хранилище файлов** (картинки/документы/отчеты): S3-совместимое (MinIO/облако).

## Обоснование
- **Соответствие требованиям**: RDBMS (PostgreSQL) лучше всего покрывает требования по надежности транзакций и целостности данных (платежи, статусы проектов, права доступа).
- **SEO и публичные витрины**: SSR/SSG для публичных страниц повышает индексацию, что важно для продвижения проектов.
- **Гибкость клиентских интерфейсов**: API‑подход позволяет в будущем добавить мобильное приложение и внешние интеграции без смены ядра.

## Альтернативы
1) NoSQL как основная БД  
   + гибкая схема  
   − сложнее обеспечить строгие транзакции платежей и консистентность.

2) Только SSR без SPA  
   + проще SEO  
   − сложнее богатые личные кабинеты и интерактивные сценарии.

## Последствия
+ Хороший баланс скорости разработки и надежности.  
+ Транзакции платежей и жизненный цикл проектов легко моделировать в RDBMS.  
− Придется продумать миграции схемы (Flyway/Liquibase/миграции ORM) и стратегию версионирования API.
